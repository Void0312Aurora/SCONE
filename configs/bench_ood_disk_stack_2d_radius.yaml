demo: disk_stack_2d
seed: 0
dt: 0.01
steps: 500
dtype: float64

device: cpu

params:
  mass: 1.0
  radius: 0.4
  gravity: 9.81
  ground_height: 0.0
  friction_mu: 0.6
  restitution: 0.0
  contact_slop: 0.001
  impact_velocity_min: 0.2
  pgs_iters: 30
  baumgarte_beta: 0.2
  warm_start: true
  residual_tol: 1.0e-6

  # Keep x-spacing fixed; adjust y so the top disk touches both bottoms:
  # dy = sqrt((2r)^2 - dx^2) with dx=0.6, r=0.4 => y_top â‰ˆ 0.92915.
  q0:
    - [-0.6, 0.4, 0.0]
    - [0.6, 0.4, 0.0]
    - [0.0, 0.92915, 0.0]
  v0:
    - [0.0, 0.0, 0.0]
    - [0.0, 0.0, 0.0]
    - [0.0, 0.0, 0.0]

sleep:
  enabled: true
  v_sleep: 0.05
  v_wake: 0.1
  steps_to_sleep: 20
  freeze_core: true

failsafe:
  penetration_hard: 0.05
  solver_residual_soft: 1.0e-3
  solver_residual_hard: 1.0e-2
  v_hard: 100.0
  energy_factor_hard: 100.0

